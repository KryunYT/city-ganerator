# Генератор городов (Procedural City Generation)

Проект для процедурной генерации городов с использованием различных алгоритмов компьютерной графики и вычислительной геометрии.

## Возможности

- **L-системы** для генерации улиц с реалистичными паттернами
- **Диаграмма Вороного** для создания районов города
- **Клеточные автоматы** для генерации рек и гор
- **Процедурная генерация зданий** различных типов
- **Визуализация** с помощью matplotlib
- **Сохранение данных** в JSON формате

## Алгоритмы

### L-система для улиц
Использует правила замены символов для создания фрактальных паттернов улиц:
- `F` - рисование улицы вперед
- `+` - поворот влево
- `-` - поворот вправо
- `[` и `]` - сохранение и восстановление состояния (ветвления)

### Диаграмма Вороного
Разделяет территорию на районы на основе случайных точек-центров, создавая естественные границы.

### Клеточные автоматы
Генерируют реки и горы с использованием простых правил:
- Реки: направление зависит от текущей позиции
- Горы: случайные центры с различными радиусами и высотами

## Установка

```bash
pip install -r requirements.txt
```

## Использование

```bash
python main.py
```

## Структура проекта

- `main.py` - основной файл с генератором города
- `requirements.txt` - зависимости Python
- `README.md` - документация проекта

## Классы

- `CityGenerator` - основной класс генератора
- `LSystem` - реализация L-системы
- `StreetGenerator` - генератор улиц
- `VoronoiGenerator` - генератор районов
- `CellularAutomaton` - клеточный автомат
- `BuildingGenerator` - генератор зданий

## Настройка параметров

Вы можете изменить параметры генерации в функции `main()`:

```python
city_gen.generate_city(
    street_iterations=3,    # Итерации L-системы
    num_districts=20,       # Количество районов
    num_rivers=3,          # Количество рек
    num_mountains=5,       # Количество гор
    num_buildings=200      # Количество зданий
)
```

## Выходные файлы

- `generated_city.png` - изображение сгенерированного города
- `city_data.json` - данные города в JSON формате
